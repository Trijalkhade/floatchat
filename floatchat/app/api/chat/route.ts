import { NextRequest, NextResponse } from 'next/server';import { GoogleGenerativeAI } from '@google/generative-ai';const ai=new GoogleGenerativeAI(process.env.GEMINI_API_KEY||'');export async function POST(req:NextRequest){if(!process.env.GEMINI_API_KEY)return NextResponse.json({error:'API key missing'},{status:500});const{message='',context='Ocean data'}=await req.json();if(!message)return NextResponse.json({error:'Message required'},{status:400});const model=ai.getGenerativeModel({model:'gemini-1.5-flash'});const prompt=`You are FloatChat AI. Context:${context}
User:${message}`;const {response}=await model.generateContent({contents:[{role:'user',parts:[{text:prompt}]}]});return NextResponse.json({reply:response.text()});}